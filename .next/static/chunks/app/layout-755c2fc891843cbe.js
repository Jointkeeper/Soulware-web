(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2431:function(){},7242:function(e,r,s){Promise.resolve().then(s.bind(s,1631))},1631:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return w}});var t=s(7437),n=s(6484),a=s(2265),l=s(7648),o=s(8298),i=s(1167),c=s(2553),d=s(9158),u=s(1),h=s(3042),x=s(6600),p=s(7026),f=s(257);if(!f.env.NEXT_PUBLIC_SUPABASE_URL)throw Error("Missing env.NEXT_PUBLIC_SUPABASE_URL");if(!f.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)throw Error("Missing env.NEXT_PUBLIC_SUPABASE_ANON_KEY");let g=(0,p.eI)(f.env.NEXT_PUBLIC_SUPABASE_URL,f.env.NEXT_PUBLIC_SUPABASE_ANON_KEY),m=async(e,r)=>{let{data:s,error:t}=await g.auth.signInWithPassword({email:e,password:r});if(t)throw t;return s},v=async(e,r)=>{let{data:s,error:t}=await g.auth.signUp({email:e,password:r});if(t)throw t;return s},b=async()=>{let{error:e}=await g.auth.signOut();if(e)throw e};function N(){let[e,r]=(0,a.useState)(!1),{theme:s,setTheme:n}=(0,o.F)(),{t:p,i18n:f}=(0,i.$G)(),{user:N,signOut:j}=function(){let[e,r]=(0,a.useState)(null),[s,t]=(0,a.useState)(!0),n=(0,x.useRouter)();return(0,a.useEffect)(()=>{let e=async()=>{try{let{data:{user:e}}=await g.auth.getUser();r(e)}catch(e){console.error("Error getting user:",e)}finally{t(!1)}},{data:{subscription:s}}=g.auth.onAuthStateChange((e,s)=>{var n;r(null!==(n=null==s?void 0:s.user)&&void 0!==n?n:null),t(!1)});return e(),()=>{s.unsubscribe()}},[]),{user:e,loading:s,login:async(e,r)=>{try{let s=await m(e,r);return n.push("/profile"),s}catch(e){throw console.error("Error signing in:",e),e}},register:async(e,r)=>{try{let s=await v(e,r);return n.push("/profile"),s}catch(e){throw console.error("Error signing up:",e),e}},signOut:async()=>{try{await b(),n.push("/")}catch(e){throw console.error("Error signing out:",e),e}}}}(),y=e=>{f.changeLanguage(e)};return(0,t.jsx)("header",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(l.default,{href:"/",className:"text-xl font-bold text-purple-400",children:"Soulware"}),(0,t.jsxs)("nav",{className:"hidden md:flex space-x-6 text-sm",children:[(0,t.jsx)(l.default,{href:"/catalog",className:"hover:text-purple-400 transition-colors",children:p("nav.tests")}),(0,t.jsx)(l.default,{href:"/daily",className:"hover:text-purple-400 transition-colors",children:p("nav.daily")}),(0,t.jsx)(l.default,{href:"/recommendations",className:"hover:text-purple-400 transition-colors",children:p("nav.recommendations")}),N?(0,t.jsx)(l.default,{href:"/profile",className:"hover:text-purple-400 transition-colors",children:p("nav.profile")}):null,(0,t.jsx)(l.default,{href:"/subscribe",className:"hover:text-purple-400 transition-colors",children:p("nav.support")}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("button",{onClick:()=>{n("dark"===s?"light":"dark")},className:"p-2 hover:bg-gray-700 rounded-full",children:"dark"===s?(0,t.jsx)(d.Z,{className:"w-5 h-5"}):(0,t.jsx)(u.Z,{className:"w-5 h-5"})}),(0,t.jsxs)(c.v,{as:"div",className:"relative",children:[(0,t.jsx)(c.v.Button,{className:"p-2 hover:bg-gray-700 rounded-full",children:(0,t.jsx)(h.Z,{className:"w-5 h-5"})}),(0,t.jsxs)(c.v.Items,{className:"absolute right-0 mt-2 w-32 bg-gray-800 rounded-md shadow-lg",children:[(0,t.jsx)(c.v.Item,{children:e=>{let{active:r}=e;return(0,t.jsx)("button",{className:"".concat(r?"bg-gray-700":""," block w-full text-left px-4 py-2"),onClick:()=>y("ru"),children:"Русский"})}}),(0,t.jsx)(c.v.Item,{children:e=>{let{active:r}=e;return(0,t.jsx)("button",{className:"".concat(r?"bg-gray-700":""," block w-full text-left px-4 py-2"),onClick:()=>y("en"),children:"English"})}})]})]}),N?(0,t.jsx)("button",{onClick:()=>j(),className:"bg-purple-600 hover:bg-purple-700 px-4 py-1 rounded transition-colors",children:p("nav.signOut")}):(0,t.jsx)(l.default,{href:"/login",className:"bg-purple-600 hover:bg-purple-700 px-4 py-1 rounded transition-colors",children:p("nav.signIn")})]})]}),(0,t.jsx)("button",{className:"md:hidden text-gray-400 hover:text-white",onClick:()=>r(!e),children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]}),e&&(0,t.jsxs)("div",{className:"md:hidden mt-4 space-y-2",children:[(0,t.jsx)(l.default,{href:"/catalog",className:"block px-3 py-2 hover:bg-gray-700 rounded",children:p("nav.tests")}),(0,t.jsx)(l.default,{href:"/daily",className:"block px-3 py-2 hover:bg-gray-700 rounded",children:p("nav.daily")}),(0,t.jsx)(l.default,{href:"/recommendations",className:"block px-3 py-2 hover:bg-gray-700 rounded",children:p("nav.recommendations")}),N&&(0,t.jsx)(l.default,{href:"/profile",className:"block px-3 py-2 hover:bg-gray-700 rounded",children:p("nav.profile")}),(0,t.jsx)(l.default,{href:"/subscribe",className:"block px-3 py-2 hover:bg-gray-700 rounded",children:p("nav.support")})]})]})})}function j(){return(0,t.jsxs)("footer",{className:"text-center text-gray-500 text-sm p-4 border-t border-gray-700 mt-12",children:[(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsxs)("strong",{children:["Я кем-то был",(0,t.jsx)("br",{}),"Я некто",(0,t.jsx)("br",{}),"Я кем-то стану"]})}),(0,t.jsx)("div",{className:"mb-2",children:"Soulware — психологическая платформа для самопознания, развития и тестирования. Здесь вы найдете личностные, профессиональные, мифологические, юмористические и AI-тесты, а также персональные рекомендации и аналитику."}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)("a",{href:"https://soulware.app",className:"text-purple-400 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"soulware.app"})}),(0,t.jsx)("div",{children:"\xa9 2025 Soulware. Все права защищены."})]})}s(9268);let y=new n.QueryClient;function w(e){let{children:r}=e;return(0,t.jsx)("html",{lang:"ru",suppressHydrationWarning:!0,children:(0,t.jsx)("body",{className:"bg-gray-900 text-white font-sans",children:(0,t.jsxs)(n.QueryClientProvider,{client:y,children:[(0,t.jsx)(N,{}),(0,t.jsx)("main",{className:"flex-grow",children:r}),(0,t.jsx)(j,{})]})})})}},9268:function(){}},function(e){e.O(0,[825,241,971,117,744],function(){return e(e.s=7242)}),_N_E=e.O()}]);